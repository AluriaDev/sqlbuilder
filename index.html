<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Sqlbuilder : SQL Builder Library for Java" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Sqlbuilder</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/jkrasnay/sqlbuilder">View on GitHub</a>

          <h1 id="project_title">Sqlbuilder</h1>
          <h2 id="project_tagline">SQL Builder Library for Java</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/jkrasnay/sqlbuilder/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/jkrasnay/sqlbuilder/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="sql-builder-utilities" class="anchor" href="#sql-builder-utilities"><span class="octicon octicon-link"></span></a>SQL Builder Utilities</h1>

<p>This package contains a number of utility classes to simplify working with SQL.</p>

<h2>
<a name="builders" class="anchor" href="#builders"><span class="octicon octicon-link"></span></a>Builders</h2>

<p>Builders simplify the creation of SQL strings. They know a little bit about SQL syntax, and make the creation of dynamic SQL a little nicer in Java. Like Java's <code>StringBuilder</code>, they use chainable calls. Here's an example of using <code>SelectBuilder</code>.</p>

<pre><code>new SelectBuilder()
.column("name")
.column("age")
.from("Employee")
.where("dept = 'engineering'")
.where("salary &gt; 100000")
.toString();
</code></pre>

<p>This produces the SQL string <code>select name, age from Employee where dept = 'engineering' and salary &gt; 100000</code>. Note how <code>SelectBuilder</code> knows to join the columns with a comma and to join the where clauses with <code>and</code>.</p>

<p>For more info, see <a href="http://john.krasnay.ca/2010/02/15/building-sql-in-java.html">http://john.krasnay.ca/2010/02/15/building-sql-in-java.html</a></p>

<h2>
<a name="parameterizedpreparedstatementcreator" class="anchor" href="#parameterizedpreparedstatementcreator"><span class="octicon octicon-link"></span></a>ParameterizedPreparedStatementCreator</h2>

<p>Spring has a powerful abstraction known as <code>JdbcTemplate</code> that makes working with JDBC bearable. <code>JdbcTemplate</code> takes care of the proper allocation and disposal of JDBC connections from a <code>DataSource</code>. It never returns a <code>Connection</code>; instead, connection objects are passed to callbacks provided by the caller. Once such callback, the <code>PreparedStatementCreator</code>, is used to create a prepared statement given
a connection.</p>

<p>In a typical <code>PreparedStatementCreator</code>, one creates SQL with substitutable parameters indicated by question marks, then sets the parameter values by index. Keeping track of these indexes can be
challenging when working with dynamic SQL. To simplify this, <code>ParamerizedPreparedStatementCreator</code> uses named parameters. Here's an example:</p>

<pre><code>PreparedStatementCreator psc =
    new ParameterizedPreparedStatementCreator()
    .setSql("update Employee set name = :name where id = :id")
    .setParameter("name", "Bob")
    .setParameter("id", 42);

new JdbcTemplate(dataSource).update(psc);
</code></pre>

<h2>
<a name="creators" class="anchor" href="#creators"><span class="octicon octicon-link"></span></a>Creators</h2>

<p>Each builder class has a corresponding <code>Creator</code> class that combines a builder and a <code>ParameterizedPreparedStatmentCreator</code>.</p>

<pre><code>PreparedStatementCreator psc =
    new UpdateCreator("Employee")
    .setValue("name", "Bob")
    .whereEquals("id", 42);

new JdbcTemplate(dataSource).update(psc);
</code></pre>

<p>Creators don't add much functionality themselves, but they make working with builders and  <code>ParameterizedPreparedStatementCreator</code>s a little easier (plus you don't have to keep typing that ridiculously large class name!).</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Sqlbuilder maintained by <a href="https://github.com/jkrasnay">jkrasnay</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
